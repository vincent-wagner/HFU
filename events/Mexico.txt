###########################
# Mexico Events
# By Tristan 'Enjoy' Edge, aged 30 and 2 months
###########################

add_namespace = mexico

# General Cedillo revolts

country_event = {
	id = mexico.1
	title = mexico.1.title
	desc = mexico.1.desc
	
	picture = GFX_report_event_yugoslavian_cavalry
	
	fire_only_once = yes
	
	is_triggered_only = yes
		
	immediate = {
		set_global_flag = flag_mexico_cedillo_has_revolted
		hidden_effect = {
			if = {
				limit = {
					has_government = neutrality
					original_tag = MEX
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@fascism
				}
				start_civil_war = {
					ideology = fascism
					size = civil_war_size_var
					keep_unit_leaders = { 700 701 702 703 704 705 706 707 708 709 710 711 712 }
					states = { 479 480 }
				}
			}
			if = {
				limit = {
					NOT = { has_government = neutrality }
					original_tag = MEX
				}
				set_variable = {
					var = civil_war_size_var
					value = party_popularity@neutrality
				}
				start_civil_war = {
					ideology = neutrality
					size = civil_war_size_var
					keep_unit_leaders = { 700 701 702 703 704 705 706 707 708 709 710 711 712 }
					states = { 479 480 }
				}
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_war_with = ROOT
				}
				hidden_effect = {
					division_template = {
						name = "Brigada de Infantería"
						division_names_group = SPAN_INFB_01
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
						}
						priority = 0
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"GER\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"ENG\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"GER\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"ENG\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"GER\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"ENG\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
							owner = PREV
						}
					}
					random_owned_controlled_state = {
						create_unit = {
							division = "division_template = \"Brigada de Infantería\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
							owner = PREV
						}
					}
				}
				create_field_marshal = {
					name = "Saturnino Cedillo"
					gfx = "GFX_portrait_mex_saturnino_cedillo"
					traits = { trait_reckless }
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 2
				}
				create_corps_commander = { # Fictitious
					name = "Manuel Sánchez"
					portrait_path = "gfx/leaders/South America/Portrait_South_America_Generic_land_2.dds"
					traits = { harsh_leader }
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				if = {
					limit = {
						has_government = neutrality
					}
					create_country_leader = {
						name = "Saturnino Cedillo"
						desc = "POLITICS_SATURNINO_CEDILLO_DESC"
						picture = "GFX_portrait_mex_saturnino_cedillo"
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							strongman_of_san_luis_potosi
						}
					}
				}
				if = {
					limit = {
						has_government = fascism
						original_tag = MEX
					}
					create_country_leader = {
						name = "Saturnino Cedillo"
						desc = "POLITICS_SATURNINO_CEDILLO_DESC"
						picture = "GFX_portrait_mex_saturnino_cedillo"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							strongman_of_san_luis_potosi
						}
					}
				}
			}
		}
	}
	
	option = {
		name = mexico.1.a
	}
}

# Mexico has nationalised the oil fields, Britain and America are informed that their oil companies are demanding compensation

# Mexico is informed that they are under embargo

country_event = {
	id = mexico.3
	title = mexico.3.title
	desc = mexico.3.desc
	
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes

	option = {
		name = mexico.3.a

		if = {
			limit = {
				NOT = {
					has_global_flag = flag_mexico_embargo_has_incited_cedillo
				}
			}
			set_global_flag = flag_mexico_embargo_has_incited_cedillo
			MEX_increase_cedillo_tension = yes # Supposedly, Cedillo rebelled because he thought the imperial powers would support him after the oil nationalisation
		}
	}
}

# Mexico asks Britain to sell Belize after aligning towards them

country_event = {
	id = mexico.12
	title = mexico.12.title
	desc = mexico.12.desc
	
	picture = GFX_report_event_generic_conference
	
	is_triggered_only = yes
	
	option = {
		name = mexico.12.a
		
		311 = {
			set_state_name = "Belice"
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 2.0
				has_government = FROM
			}
			
			modifier = {
				factor = 2.0
				is_in_faction_with = FROM
			}
		}
	}
}

# Mexico is informed that Belize was granted to them

country_event = {
	id = mexico.13
	title = mexico.13.title
	desc = mexico.13.desc
	
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes

	option = {
		name = mexico.13.a
	}
}

# Archbishop Pascual Díaz y Barreto passes away

country_event = {
	id = mexico.15
	title = mexico.15.title
	desc = mexico.15.desc
	
	picture = GFX_report_event_europe_funeral
	
	fire_only_once = yes
	
is_triggered_only = yes
	
	option = {
		name = mexico.15.a # Rest in peace
		
		MEX_increase_church_power = yes
		
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.1
				has_completed_focus = MEX_focus_state_education
			}
			modifier = {
				factor = 10
				has_active_mission = MEX_mission_second_cristiada
			}
			modifier = {
				factor = 10
				OR = {
					has_idea = MEX_church_power_2
					has_idea = MEX_church_power_1
				}
				NOT = { has_global_flag = flag_second_mexican_civil_war }
			}
		}
	}
	option = {
		name = mexico.15.b # Burn in hell
		
		MEX_decrease_church_power = yes
		
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.1
				has_completed_focus = MEX_focus_antidisestablishmentarianism
			}
			modifier = {
				factor = 10
				has_active_mission = MEX_mission_second_revolution
			}
			modifier = {
				factor = 10
				OR = {
					has_idea = MEX_church_power_4
					has_idea = MEX_church_power_5
				}
				NOT = { has_global_flag = flag_second_mexican_civil_war }
			}
		}
	}
}

# Trotsky arrives from Norway

country_event = {
	id = mexico.17
	title = mexico.17.title
	desc = mexico.17.desc
	
	picture = GFX_report_event_communists_cheer
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.17.a # We aren't Stalin's puppets, let him stay
		
		if = {
			limit = {
				SOV = {
					has_country_leader = { name = "Joseph Stalin" }
				}
			}
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = mexico_trotskyite_wreckers
				}
			}
		}
		USA = {
			add_opinion_modifier = {
				target = ROOT
				modifier = mexico_snubbed_stalin
			}
		}
		set_global_flag = trotsky_exile_mexico

	}
}

# The 1940 election begins
# First the player is asked if he wants to change the law to remain in office a second term
# Doing so is likely to incite a second revolution (Diaz reigned for 30 years)

country_event = {
	id = mexico.18
	title = mexico.18.title
	desc = mexico.18.desc
	
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	trigger = {
		original_tag = MEX
		date < 1942.1.1
		has_dlc = "Man the Guns"
	}
	
	option = {
		name = mexico.18.a
		
		country_event = {
			id = mexico.19
			days = 1
		}
		
		ai_chance = {
			factor = 75
		}
	}
	
	option = {
		name = mexico.18.b
		
		trigger = {
			NOT = {
				has_government = democratic
			}
		}
		
		add_stability = -0.03
		
		if = {
			limit = {
				has_government = neutrality
			}
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
		}
		
		if = {
			limit = {
				has_government = fascism
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
		}
		
		if = {
			limit = {
				has_government = communism
			}
			set_politics = {
				ruling_party = communism
				elections_allowed = no
			}
		}
		
		ai_chance = {
			factor = 25
			
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
	}
}

# The successor is now selected. Will depend on the choice of policies and current leader.
# The previous event implies the law on successors is being strictly applied so candidates are not eligible if they have been president before!

country_event = {
	id = mexico.19
	title = mexico.19.title
	desc = mexico.19.desc
	
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	# Neutrality
	
	option = { # Left-wing successor: Francisco Múgica
		name = mexico.19.a
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Francisco Múgica"
				}
			}
			has_government = neutrality
		}

		create_country_leader = {
			name = "Francisco Múgica"
			desc = "POLITICS_FRANCISCO_MUGICA_DESC"
			picture = "GFX_portrait_mex_francisco_mugica"
			expire = "1965.1.1"
			ideology = moderatism
			traits = {
				revolutionary_general
			}
		}
		
		hidden_effect = { # Juan Andreu complains he was not selected
			if = {
				limit = {
					USA = {
						is_subject = no
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				country_event = {
					id = mexico.20
					days = 1
				}
			}
		}
	}
	
	option = { # Compromise successor: Manuel Ávila
		name = mexico.19.b
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Manuel Ávila Camacho"
				}
			}
			has_government = neutrality
		}

		create_country_leader = {
			name = "Manuel Ávila Camacho"
			desc = "POLITICS_MANUEL_AVILA_DESC"
			picture = "GFX_portrait_mex_avila_civil"
			expire = "1965.1.1"
			ideology = oligarchism
			traits = {
				the_gentleman_president
			}
		}
		
		hidden_effect = { # Juan Andreu complains he was not selected
			if = {
				limit = {
					USA = {
						is_subject = no
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				country_event = {
					id = mexico.20
					days = 1
				}
			}
		}
	}
	
	option = { # Right-wing successor: Saturnino Cedillo
		name = mexico.19.c
		
		trigger = {
			NOT = {
				has_global_flag = flag_mexico_cedillo_has_revolted
			}
			has_completed_focus = MEX_focus_support_general_cedillo
			NOT = {
				has_country_leader = {
					name = "Saturnino Cedillo"
				}
			}
			has_government = neutrality
		}

		create_country_leader = {
			name = "Saturnino Cedillo"
			desc = "POLITICS_SATURNINO_CEDILLO_DESC"
			picture = "GFX_portrait_mex_saturnino_cedillo"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
				strongman_of_san_luis_potosi
			}
		}
	}
	
	#option = { # Far-right candidate: Juan Andreu
	#	name = mexico.19.d
	#	
	#	trigger = {
	#		NOT = {
	#			has_country_leader = {
	#				name = "Juan Andreu"
	#			}
	#		}
	#		has_government = neutrality
	#	}

	#	create_country_leader = {
	#		name = "Juan Andreu"
	#		desc = "POLITICS_JUAN_ANDREU_DESC"
	#		picture = "GFX_portrait_mex_juan_andreu"
	#		expire = "1965.1.1"
	#		ideology = oligarchism
	#		traits = {
	#			the_silver_president
	#		}
	#	}
	#}

	# Democratic
	
	option = { # Left-wing successor: Francisco Múgica
		name = mexico.19.f
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Francisco Múgica"
				}
			}
			has_government = democratic
		}

		create_country_leader = {
			name = "Francisco Múgica"
			desc = "POLITICS_FRANCISCO_MUGICA_DESC"
			picture = "GFX_portrait_mex_francisco_mugica"
			expire = "1965.1.1"
			ideology = socialism
			traits = {
				revolutionary_general
			}
		}
		
		hidden_effect = { # Juan Andreu complains he was not selected
			if = {
				limit = {
					USA = {
						is_subject = no
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				country_event = {
					id = mexico.20
					days = 1
				}
			}
		}
		
		ai_chance = {
			factor = 30
		}
	}
	
	option = { # Right-wing successor: Manuel Ávila
		name = mexico.19.g
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Manuel Ávila Camacho"
				}
			}
			has_government = democratic
		}

		create_country_leader = {
			name = "Manuel Ávila Camacho"
			desc = "POLITICS_MANUEL_AVILA_DESC"
			picture = "GFX_portrait_mex_avila_civil"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				the_gentleman_president
			}
		}
		
		hidden_effect = { # Juan Andreu complains he was not selected
			if = {
				limit = {
					USA = {
						is_subject = no
						exists = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				country_event = {
					id = mexico.20
					days = 1
				}
			}
		}
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}
	}
	
	#option = { # Far-right candidate: Juan Andreu
	#	name = mexico.19.h
	#	
	#	trigger = {
	#		NOT = {
	#			has_country_leader = {
	#				name = "Juan Andreu"
	#			}
	#		}
	#		has_government = democratic
	#	}

	#	create_country_leader = {
	#		name = "Juan Andreu"
	#		desc = "POLITICS_JUAN_ANDREU_DESC"
	#		picture = "GFX_portrait_mex_juan_andreu"
	#		expire = "1965.1.1"
	#		ideology = conservatism
	#		traits = {
	#			the_silver_president
	#		}
	#	}
	#}
	
	# Communist
	

	option = { # Social democratic successor: Francisco Múgica
		name = mexico.19.j
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Francisco Múgica"
				}
			}
			has_government = communism
		}

		create_country_leader = {
			name = "Francisco Múgica"
			desc = "POLITICS_FRANCISCO_MUGICA_DESC"
			picture = "GFX_portrait_mex_francisco_mugica"
			expire = "1965.1.1"
			ideology = marxism
			traits = {
				revolutionary_general
			}
		}
	}

	option = { # Stalinist successor: Dionisio Encina
		name = mexico.19.k
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Dionisio Encina"
				}
			}

			has_government = communism
		}

		create_country_leader = {
			name = "Dionisio Encina"
			desc = "POLITICS_DIONISIO_ENCINA_DESC"
			picture = "GFX_Portrait_MEX_Dionisio_Encina"
			expire = "1965.1.1"
			ideology = stalinism
			traits = {
				staunch_stalinist
			}
		}
	}
	
	option = { # Trotskyist successor: Hernán Laborde
		name = mexico.19.l
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Hernán Laborde"
				}
			}
			has_government = communism
			OR = {
				NOT = {
					has_global_flag = flag_mexico_invited_trotsky_to_government
				}
				AND = { # If Trotsky is in power, he steps down and Laborde is successor
					has_global_flag = flag_mexico_invited_trotsky_to_government
					has_country_leader = { name = "Leon Trotsky" }
				}
			}
		}

		create_country_leader = {
			name = "Hernán Laborde"
			desc = "POLITICS_HERNAN_LABORDE_DESC"
			picture = "GFX_Portrait_MEX_Hernan_Laborde"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
				devoted_trotskyist
			}
		}
	}
	
	option = { # Continuity candidate: Saturnino Cedillo
		name = mexico.19.n
		
		trigger = {
			NOT = {
				OR = {
					has_global_flag = flag_mexico_cedillo_has_revolted
					has_country_leader = {
						name = "Saturnino Cedillo"
					}
				}	
			}
			has_completed_focus = MEX_focus_support_general_cedillo
			has_government = fascism
		}

		create_country_leader = {
			name = "Saturnino Cedillo"
			desc = "POLITICS_SATURNINO_CEDILLO_DESC"
			picture = "GFX_portrait_mex_saturnino_cedillo"
			expire = "1965.1.1"
			ideology = fascism_ideology
			traits = {
				strongman_of_san_luis_potosi
			}
		}
	}

	#option = { # Fascist candidate: Juan Andreu
	#	name = mexico.19.o
	#	
	#	trigger = {
	#		NOT = {
	#			has_country_leader = {
	#				name = "Juan Andreu"
	#			}
	#		}
	#		has_government = fascism
	#	}

	#	create_country_leader = {
	#		name = "Juan Andreu"
	#		desc = "POLITICS_JUAN_ANDREU_DESC"
	#		picture = "GFX_portrait_mex_juan_andreu"
	#		expire = "1965.1.1"
	#		ideology = fascism_ideology
	#		traits = {
	#			the_silver_president
	#		}
	#	}
	#}

	option = { # Falangist candidate: Salvador Abascal
		name = mexico.19.q
		
		trigger = {
			NOT = {
				has_country_leader = {
					name = "Salvador Abascal"
				}
			}
			has_government = fascism
		}

		create_country_leader = {
			name = "Salvador Abascal"
			desc = "POLITICS_SALVADOR_ABASCAL_DESC"
			picture = "GFX_Portrait_MEX_Salvador_Abascal"
			expire = "1965.1.1"
			ideology = falangism
			traits = {
				fascist_militia_leader
			}
		}
	}
	option = { # Neither Trotsky nor Laborde: Valentín Campa
		name = mexico.19.r
		
		trigger = {
			has_country_leader = {
			 	ruling_only = yes
			 	name = "Hernán Laborde"
			}				
		}

		create_country_leader = {
			name = "Valentín Campa"
			desc = "POLITICS_VALENTIN_CAMPA_DESC"
			picture = "gfx/leaders/South America/Portrait_South_America_Generic_4.dds"
			expire = "1965.1.1"
			ideology = leninism
			traits = {
				railroad_enthusiast
			}
		}
	}
	# That should be enough for now.

}

# If a centre/left-wing neutral or democratic leader is selected, Juan Andreu complains (historic)
# Only triggered if America exists, is independent and not at war with Mexico (flavour text reasons)

country_event = {
	id = mexico.20
	title = mexico.20.title
	desc = mexico.20.desc
	
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes

	option = {
		name = mexico.20.a
	}
}

# Stalin is informed that Trotsky has been apprehended by Mexico and extradited

country_event = {
	id = mexico.21
	title = mexico.21.title
	desc = mexico.21.desc
	
	picture = GFX_report_event_stalin_propaganda
	
	is_triggered_only = yes

	immediate = {
		set_global_flag = trotsky_dead
	}
	
	option = {
		name = mexico.21.a
	}
}

# Papal encyclical on Mexico issued by Pope Pius XI

country_event = {
	id = mexico.27
	title = mexico.27.title
	desc = mexico.27.desc
	
	picture = GFX_report_event_europe_funeral
	
	fire_only_once = yes
	
is_triggered_only = yes
	
	option = {
		name = mexico.27.a # It is good that the anti-Church violence has ended.
		
		MEX_increase_church_power = yes
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				has_completed_focus = MEX_focus_state_education
			}
			modifier = {
				factor = 10
				has_active_mission = MEX_mission_second_cristiada
			}
			modifier = {
				factor = 10
				OR = {
					has_idea = MEX_church_power_2
					has_idea = MEX_church_power_1
				}
				NOT = { has_global_flag = flag_second_mexican_civil_war }
			}
		}
	}
	option = {
		name = mexico.27.b # Superstitious propaganda, prevent publication of this treason!
		
		MEX_decrease_church_power = yes
		
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0.1
				has_completed_focus = MEX_focus_antidisestablishmentarianism
			}
			modifier = {
				factor = 10
				has_active_mission = MEX_mission_second_revolution
			}
			modifier = {
				factor = 10
				OR = {
					has_idea = MEX_church_power_4
					has_idea = MEX_church_power_5
				}
				NOT = { has_global_flag = flag_second_mexican_civil_war }
			}
		}
	}
}

# The renewed attacks on the church incite a Second Cristiada

country_event = {
	id = mexico.28
	title = mexico.28.title
	desc = mexico.28.desc
	
	picture = GFX_report_event_mex_civil_war
	
	fire_only_once = yes
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_government = communism
					original_tag = MEX
				}
				start_civil_war = {
					ideology = fascism
					size = 0.35
					keep_unit_leaders = { 700 701 702 703 704 705 706 707 708 709 710 711 712 }
				}
			}
			if = {
				limit = {
					has_government = fascism
										original_tag = MEX

				}
				start_civil_war = {
					ideology = democratic
					size = 0.35
					keep_unit_leaders = { 700 701 702 703 704 705 706 707 708 709 710 711 712 }
				}
			}
			if = {
				limit = {
					has_government = neutrality
										original_tag = MEX

				}
				start_civil_war = {
					ideology = democratic
					size = 0.35
					keep_unit_leaders = { 700 701 702 703 704 705 706 707 708 709 710 711 712 }
				}
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_war_with = ROOT
				}
				MEX_remove_church_power = yes
				set_cosmetic_tag = MEX_cristero
				create_field_marshal = {
					name = "Jesús Degollado Guízar"
					gfx = "GFX_portrait_mex_jesus_degollado_guizar"
					traits = { war_hero trait_cautious }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
				create_corps_commander = { # Fictitious
					name = "Alberto Gorostieta Vega"
					portrait_path = "gfx/leaders/South America/Portrait_South_America_Generic_land_2.dds"
					traits = { war_hero }
					skill = 3
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				create_corps_commander = { # Fictitious
					name = "Dionisio Navarro Anguiano"
					portrait_path = "gfx/leaders/South America/Portrait_South_America_Generic_land_1.dds"
					traits = { infantry_officer }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 2
				}
				create_country_leader = {
					name = "Jesús Degollado Guízar"
					desc = "POLITICS_JESUS_DEGOLLADO_GUIZAR_DESC"
					picture = GFX_portrait_mex_jesus_degollado_guizar
					expire = "1965.1.1"
					ideology = falangism
					traits = {
						cristero_general
					}
				}
				create_country_leader = {
					name = "Luis María Martínez"
					desc = "POLITICS_LUIS_MARIA_MARTINEZ_DESC"
					picture = GFX_Portrait_MEX_Luis_Maria_Martinez
					expire = "1965.1.1"
					ideology = socialism
					traits = {
						primate_of_mexico
					}
				}
				division_template = {
					name = "Guardia Cristera"
					division_names_group = MEX_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
					priority = 0
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"GER\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"ITA\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"GER\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Guardia Cristera\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"ITA\" } }"
						owner = PREV
					}
				}
				set_party_name = { ideology = fascism name = MEX_fascist_party_legionnaires_of_christ_short long_name = MEX_fascist_party_legionnaires_of_christ_long }
				set_party_name = { ideology = democratic name = MEX_democratic_party_national_action_party_short long_name = MEX_democratic_party_national_action_party_long }
			}
		}
	}

	option = {
		name = mexico.28.a # We should have stamped this treason out earlier!
		
		hidden_effect = {
			news_event = {
				id = mexico.29
				days = 1
			}
		}
	}
}

# News event for Second Cristiada

news_event = {
	id = mexico.29
	title = mexico.29.title
	desc = mexico.29.desc
	
	picture = GFX_news_event_mex_civil_war
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.29.a
		
		trigger = {
			OR = {
				original_tag = MEX
				is_in_faction_with = MEX
			}
			has_dlc = "Man the Guns"
		}
	}
	option = {
		name = mexico.29.b
		
		trigger = {
			has_war_with = MEX
		}
	}
	option = {
		name = mexico.29.c
		
		trigger = {
			NOT = {
				OR = {
					original_tag = MEX
					is_in_faction_with = MEX
					has_war_with = MEX
				}
			}
		}
	}
}

# The rapid ascent of the church incites a civil war from the anti-Church military and far-left

country_event = {
	id = mexico.30
	title = mexico.30.title

	desc = {
		text = mexico.30.desc1
		trigger = {
			NOT = { has_completed_focus = MEX_focus_jefe_maximo } # Calles is in on the action
		}
	}
	desc = {
		text = mexico.30.desc2
		trigger = {
			has_completed_focus = MEX_focus_jefe_maximo # Calles has been placated and isn't mentioned in the description
		}
	}

	picture = GFX_report_event_mex_civil_war
	
	fire_only_once = yes
		
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					has_government = democratic
					NOT = {
						has_completed_focus = MEX_focus_jefe_maximo
											original_tag = MEX

					}
				}
				start_civil_war = {
					ideology = neutrality
					size = 0.35
				}
			}
			if = {
				limit = {
					has_government = democratic
					has_completed_focus = MEX_focus_jefe_maximo

				}
				start_civil_war = {
					ideology = communism
					size = 0.35
				}
			}
			if = {
				limit = {
					has_government = fascism
										original_tag = MEX

				}
				start_civil_war = {
					ideology = communism
					size = 0.35
				}
			}
			if = {
				limit = {
					has_government = neutrality
										original_tag = MEX

				}
				start_civil_war = {
					ideology = communism
					size = 0.35
				}
			}
			random_other_country = {
				limit = {
					original_tag = MEX
					has_war_with = ROOT
				}
				drop_cosmetic_tag = yes
				MEX_remove_church_power = yes
				save_event_target_as = mexican_second_revolution_rebeller
				ROOT = {
					every_unit_leader = {
						limit = {
							OR = {
								has_id = 704 # Former president Abelardo L. Rodríguez
								has_id = 705 # Future president Manuel Ávila Camacho
								has_id = 707 # Revolutionary general/admiral Heriberto Jara Corona
							}
						}
						set_nationality = event_target:mexican_second_revolution_rebeller
					}
				}
				if = {
					limit = {
						ROOT = {
							NOT = {
								has_completed_focus = MEX_focus_jefe_maximo
							}
						}
					}
					create_field_marshal = {
						name = "Plutarco E. Calles"
						id = 711
						gfx = "GFX_portrait_mex_calles_military"
						traits = { harsh_leader }
						skill = 4
						attack_skill = 4
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 3
					}
				}
				create_corps_commander = { # It's your chance to shine, my boy!
					name = "Vicente Lombardo"
					gfx = "GFX_portrait_mex_vicente_lombardo"
					traits = { politically_connected }
					skill = 1
					attack_skill = 1
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 1
				}
				create_corps_commander = {
					name = "Adolfo de la Huerta"
					gfx = "GFX_Portrait_MEX_Adolfo_de_la_Huerta"
					traits = { trait_reckless }
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 2
				}
				create_country_leader = { # Exiled until 1935 following a rebellion attempt, allowed back in by Cardenas and joined the cabinet of Avila
					name = "Adolfo de la Huerta"
					desc = "POLITICS_ADOLFO_DE_LA_HUERTA_DESC"
					picture = "GFX_Portrait_MEX_Adolfo_de_la_Huerta"
					expire = "1965.1.1"
					ideology = conservatism
					traits = {
						#
					}
				}
				create_country_leader = {
					name = "Plutarco E. Calles"
					desc = "POLITICS_PLUTARCO_E_CALLES_DESC"
					picture = GFX_portrait_mex_calles_military
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						el_jefe_maximo
					}
				}
				create_country_leader = {
					name = "Vicente Lombardo"
					desc = "POLITICS_VICENTE_LOMBARDO_DESC"
					picture = "GFX_portrait_mex_vicente_lombardo"
					expire = "1965.1.1"
					ideology = marxism
					traits = {
						the_dean_of_mexican_marxism
					}
				}
				if = {
					limit = {
						NOT = { has_global_flag = flag_mexico_cedillo_has_revolted }
					}
					create_country_leader = {
						name = "Saturnino Cedillo"
						desc = "POLITICS_SATURNINO_CEDILLO_DESC"
						picture = "GFX_portrait_mex_saturnino_cedillo"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							strongman_of_san_luis_potosi
						}
					}
				}
				if = {
					limit = {
						has_global_flag = flag_mexico_cedillo_has_revolted
					}
					create_country_leader = {
						name = "Juan Andreu"
						desc = "POLITICS_JUAN_ANDREU_DESC"
						picture = "GFX_portrait_mex_juan_andreu"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							the_silver_president
						}
					}
				}
				division_template = {
					name = "Brigada Roja"
					division_names_group = MEX_INF_01
					regiments = {
						infantry = { x = 0 y = 0 }
						infantry = { x = 0 y = 1 }
						infantry = { x = 0 y = 2 }
					}
					priority = 0
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Brigada Roja\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"MEX\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Brigada Roja\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Brigada Roja\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"SOV\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Brigada Roja\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"MEX\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Brigada Roja\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"USA\" } }"
						owner = PREV
					}
				}
				random_owned_controlled_state = {
					create_unit = {
						division = "division_template = \"Brigada Roja\" start_experience_factor = 0.2 force_equipment_variants = { infantry_equipment_0 = { owner = \"SOV\" } }"
						owner = PREV
					}
				}
			}
		}
	}

	option = {
		name = mexico.30.a # Long live Christ the King and Blessed Mary of Guadalupe!
		
		hidden_effect = {
			news_event = {
				id = mexico.31
				days = 1
			}
		}
	}
}

# News event for Second Mexican Revolution

news_event = {
	id = mexico.31
	title = mexico.31.title
	desc = mexico.31.desc
	
	picture = GFX_news_event_mex_civil_war
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = mexico.31.a
		
		trigger = {
			OR = {
				original_tag = MEX
				is_in_faction_with = MEX
			}
		}
	}
	option = {
		name = mexico.31.b
		
		trigger = {
			has_war_with = MEX
		}
	}
	option = {
		name = mexico.31.c
		
		trigger = {
			NOT = {
				OR = {
					original_tag = MEX
					is_in_faction_with = MEX
					has_war_with = MEX
				}
			}
		}
	}
}

# Zoot Suit Riots occur in America

country_event = {
	id = mexico.32
	title = mexico.32.title
	desc = mexico.32.desc
	
	picture = GFX_report_event_mex_civil_war
	
	fire_only_once = yes
	
is_triggered_only = yes
	
	option = {
		name = mexico.32.a
		
		add_stability = 0.01
		add_political_power = -25
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
	}
	
	option = {
		name = mexico.32.b
		
		add_stability = -0.01
		add_war_support = 0.01
		
		MEX = {
			country_event = {
				days = 1
				id = mexico.33
			}
		}
		
		ai_chance = {
			factor = 50
		}
	}
}

country_event = {
	id = mexico.33
	title = mexico.33.title
	desc = mexico.33.desc
	
	picture = GFX_report_event_mex_civil_war
	
	is_triggered_only = yes

	option = {
		name = mexico.33.a
		
		MEX_decrease_church_power = yes
		
		add_stability = -0.01
		add_war_support = 0.01
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 2.0
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 0.1
				has_government = fascism
			}
			modifier = {
				factor = 10
				has_active_mission = MEX_mission_second_revolution
			}
			modifier = {
				factor = 10
				OR = {
					has_idea = MEX_church_power_4
					has_idea = MEX_church_power_5
				}
				NOT = { has_global_flag = flag_second_mexican_civil_war }
			}
		}
	}
	
	option = {
		name = mexico.33.b
		
		add_stability = 0.01
		add_war_support = -0.01
		
		add_opinion_modifier = {
			target = FROM
			modifier = protest_action
		}
		
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = protest_action
		}
		
		ai_chance = {
			factor = 50
			
			modifier = {
				factor = 2.0
				NOT = {
					has_government = FROM
				}
			}
		}
	}
}

